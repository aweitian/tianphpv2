<?xml version="1.0" encoding="UTF-8"?>
<sql>
	<all>
		SELECT * FROM `data_doctor` WHERE 1
		LIMIT :offset,:length
	</all>

	<base>
		SELECT
		  `sid`,
		  `name`
		FROM `data_doctor`
	</base>


	<count>
		SELECT count(*) as count FROM `data_doctor` WHERE 1
	</count>

	<row>
		SELECT * FROM `data_doctor` WHERE `sid` = :sid
	</row>

	<updateId>
		UPDATE `data_doctor` SET
		`id`=:id
		WHERE `sid`=:sid
	</updateId>
	
	<updatePwd>
		UPDATE `data_doctor` SET
		`pwd`=:npwd
		WHERE `sid`=:sid
		AND `pwd`=:opwd
	</updatePwd>

	<resetpwdForce>
		UPDATE `data_doctor` SET
		`pwd`=:pwd
		WHERE `sid`=:sid
	</resetpwdForce>

	<update>
		UPDATE `data_doctor` SET 
		`id`=:id,
		`avatar`=:avatar,
		`name`=:name,
		`date`=:date
	 	WHERE `sid`=:sid
	</update>


	<add>
		INSERT INTO `data_doctor` (
			`id`,`name`,`pwd`,`avatar`,`date`
		) VALUES (
			:id,:name,:pwd,:avatar,:date
		)
	</add>
	
	<remove>
		DELETE 
			`data_doctor`,`data_doctor_dis`,
			`data_doctor_ext`,`data_doctor_present`,
			`data_letter`,`data_appraise`,`data_article_doc`,
			`data_ask`,`data_ask_append`
			FROM  `data_doctor`
			LEFT JOIN `data_doctor_dis` ON `data_doctor`.`sid` = `data_doctor_dis`.`dod`
			LEFT JOIN `data_doctor_ext` ON `data_doctor`.`sid` = `data_doctor_ext`.`dod`
			LEFT JOIN `data_doctor_present` ON `data_doctor`.`sid` = `data_doctor_present`.`dod`
			LEFT JOIN `data_letter` ON `data_doctor`.`sid` = `data_letter`.`dod`
			LEFT JOIN `data_appraise` ON `data_doctor`.`sid` = `data_appraise`.`dod`
			LEFT JOIN `data_article_doc` ON `data_doctor`.`sid` = `data_article_doc`.`dod`
			LEFT JOIN `data_ask` ON `data_doctor`.`sid` = `data_ask`.`dod`
			LEFT JOIN `data_ask_append` ON `data_ask`.`sid` = `data_ask_append`.`askid`
			WHERE `data_doctor`.`sid` = :sid 
	</remove>
</sql>